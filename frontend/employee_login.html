<div id="header-placeholder"></div>
    <br><br><br><br><br><br><br><br>
    
    <div class="login-container">
        <a href="empoyee_home.html"><h2>Login as a Employee</h2></a>
        <img src="images/login_seekers.png" alt="Job Seeker Illustration">
        <form id="employeeLoginFrom">
            <input type="email" id="company_email" name="company_email" placeholder="Email address..." required>
            <input type="password" id="password" name="password" placeholder="Password" required>
            <button type="submit">Login</button>
        </form>
        <a href="/employee_reg">New here? <span>Register</span></a>
    </div>
    
    <br><br>
    <script>
        const form = document.getElementById('employeeLoginFrom');

        form.addEventListener('submit', async (event) => {
            event.preventDefault(); // Prevent default form submission

            const email = document.getElementById('company_email').value;
            const password = document.getElementById('password').value;

            const data = {
                company_email: email,
                password: password
            };

            const response = await fetch('/company/login', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(data)
            });

            if (!response.ok) {
                // Handle errors (e.g., display an error message to the user)
                console.error('Network response was not ok:', response.statusText);
                return;
            }

            const responseData = await response.json();

            // Handle successful response (e.g., redirect the user or display a success message)
            console.log('Login successful:', responseData);
        });
    </script>
    <div id="footer-placeholder"></div>
    <script>
        // Load header and footer
        document.addEventListener("DOMContentLoaded", function() {
            const headerPlaceholder = document.getElementById('header-placeholder');
            const footerPlaceholder = document.getElementById('footer-placeholder');

            fetch('/header')
                .then(response => response.text())
                .then(data => {
                    headerPlaceholder.innerHTML = data;
                    // Initialize toggle button after header is loaded
                    initToggleButton();
                });

            fetch('/footer')
                .then(response => response.text())
                .then(data => {
                    footerPlaceholder.innerHTML = data;
                });

            // Function to initialize toggle button
            function initToggleButton() {
                const toggleButton = document.querySelector(".toggle-button");
                const navLinks = document.querySelector("nav.nav-links");

                if (toggleButton && navLinks) {
                    toggleButton.addEventListener("click", () => {
                        navLinks.classList.toggle("show");
                        console.log("Toggle button clicked. Nav links class is now:", navLinks.className);
                    });
                }
            }

            // Infinite scroll functionality
            const scrollWrapper = document.getElementById('manpower-cards');
            if (scrollWrapper) {
                const cards = Array.from(scrollWrapper.children);
                // Clone the cards to create an infinite scroll effect
                cards.forEach(card => {
                    const clone = card.cloneNode(true);
                    scrollWrapper.appendChild(clone);
                });
            }

            // Image card click functionality
            const imgCard = document.querySelectorAll(".img-card");
            imgCard.forEach(element => {
                element.addEventListener("click", function(e) {
                    imgCard.forEach(el => {
                        el.classList.remove("active");
                    });
                    element.classList.add("active");
                });
            });
        });
    </script>
</body>
</html>
