<div id="header-placeholder"></div>
    
            
    <br><br><br>
    <!-- <div class="card-banner">
        <img src="images/article2.jpg" alt="">
    </div> -->
    <section id="gallery">
        <div class="svg"></div>
        <div class="img-card active">
            <img src="images/banner1.jpeg" alt="">
            <label>
                Dubai
                <span>
                    Lorem ipsum dolor sit amet consectetur 
                    adipisicing elit. Aliquam illum molestias aspernatur?
                </span>
            </label>
        </div>
        <div class="img-card">
            <img src="images/banner2.jpeg" alt="">
            <label>
                Qatar
                <span>
                    Lorem ipsum dolor sit amet consectetur 
                    adipisicing elit. Aliquam illum molestias aspernatur?
                </span>
            </label>
        </div> 
        <div class="img-card">
            <img src="images/article2.jpg" alt="">
            <label>
                Qatar
                <span>
                    Lorem ipsum dolor sit amet consectetur 
                    adipisicing elit. Aliquam illum molestias aspernatur?
                </span>
            </label>
        </div>
        <div class="img-card">
            <img src="images/banner4.jpg" alt="">
            <label>
                Kuwait
                <span>
                    Lorem ipsum dolor sit amet consectetur 
                    adipisicing elit. Aliquam illum molestias aspernatur?
                </span>
            </label>
        </div>
        <div class="img-card">
            <img src="images/banner6.jpg" alt="">
            <label>
                Oman
                <span>
                    Lorem ipsum dolor sit amet consectetur 
                    adipisicing elit. Aliquam illum molestias aspernatur?
                </span>
            </label>
        </div>
    </section>
    
    <div class="hiring-company">
        <h2>Top Hiring Companies</h2>
        <br>
        <div class="top-hiring-manpowers">
            <div class="manpower-cards">
                <div class="manpower-card">
                    <img src="images/image1.jpeg" alt="Vision & Value">
                </div>
                <div class="manpower-card">
                    <img src="images/image1.png" alt="Aakarshan International Pvt. Ltd.">
                </div>
                <div class="manpower-card">
                    <img src="images/image2.png" alt="International Manpower Recruitment">
                </div>
                <div class="manpower-card">
                    <img src="images/image3.png" alt="Oxford International Pvt. Ltd.">
                </div>
                <div class="manpower-card">
                    <img src="images/image4.jpg" alt="Vision & Value">
                </div>
                <div class="manpower-card">
                    <img src="images/image1.jpeg" alt="Vision & Value">
                </div>
                <div class="manpower-card">
                    <img src="images/image1.png" alt="Aakarshan International Pvt. Ltd.">
                </div>
                <div class="manpower-card">
                    <img src="images/image2.png" alt="International Manpower Recruitment">
                </div>
                <div class="manpower-card">
                    <img src="images/image3.png" alt="Oxford International Pvt. Ltd.">
                </div>
                <div class="manpower-card">
                    <img src="images/image4.jpg" alt="Vision & Value">
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
<br><br><br>
    <section class="categories">
        <h2>Jobs by Categories</h2>
        <br><br>
        <div class="category-list">
            <div class="category-item"><i class="fa fa-university"></i>Hospitality</div>
            <div class="category-item"><i class="fa fa-cogs"></i>Integrated Facility Management</div>
            <div class="category-item"><i class="fa fa-leaf"></i>Environmental Service</div>
            <div class="category-item"><i class="fa fa-tint"></i>Pharmacy</div>
            <div class="category-item"><i class="fa fa-heart"></i>Health and Fitness</div>
            <div class="category-item"><i class="fa fa-bed"></i>Hotels & Restaurants</div>
            <div class="category-item"><i class="fa fa-male"></i>Gym</div>
            <div class="category-item"><i class="fa fa-recycle"></i>Waste Management</div>
            <div class="category-item"><i class="fa fa-desktop"></i>Entertainment</div>
            <div class="category-item"><i class="fa fa-eye"></i>Beauty & Make-up</div>
            <div class="category-item"><i class="fa fa-spinner"></i>Laundry</div>
            <div class="category-item"><i class="fa fa-anchor"></i>Fishery</div>
            <div class="category-item"><i class="fa fa-exclamation-triangle"></i>Engineering</div>
            <div class="category-item"><i class="fa fa-industry"></i>Production Factory</div>
            <div class="category-item"><i class="fa-solid fa-arrow-up-right-from-square"></i>View More...</div>
        </div>
    </section>

    <br><br><br>
    <section class="jobs">
        <h2>Top Jobs</h2>
        <br><br>
            <div class="job-list">
                <script>
                    // Fetch job data from the API
                    fetch('/company/add?id=0')
                        .then(response => {
                            if (!response.ok) {
                                throw new Error('Network response was not ok');
                            }
                            return response.json();
                        })
                        .then(response => {
                            console.log(response); // Inspect the data structure here
                
                            // Assuming response.data is the array
                            const jobs = response.data; // Update this if your data structure is different
                            console.log(jobs);
                
                            // Check if jobs is an array
                            if (Array.isArray(jobs)) {
                                // Sort jobs by number of vacancies in descending order
                                const sortedJobs = jobs.sort((a, b) => b.no_of_vacancies - a.no_of_vacancies);
                
                                // Get the top 8 jobs with the highest number of vacancies
                                const top8Jobs = sortedJobs.slice(0, 8);
                
                                const jobList = document.querySelector('.job-list'); // Move this outside the loop for efficiency
                
                                // Clear existing content
                                jobList.innerHTML = '';
                
                                // Check if there are jobs available
                                if (top8Jobs.length > 0) {
                                    top8Jobs.forEach(job => {
                                        const jobItem = document.createElement('div');
                                        jobItem.classList.add('job-item');
                
                                        jobItem.innerHTML = `
                                            <img src="${job.filename || 'images/placeholder.png'}" alt="${job.title} logo" class="job-logo"> <!-- Add alt attribute for accessibility -->
                                            <h3>${job.title}</h3>
                                            <p>Position: ${job.position}</p>
                                            <p>Vacancies: ${job.no_of_vacancies}</p> <!-- Display the number of vacancies -->
                                            <p>Salary: ${job.salary}</p>
                                            <p>Gender: ${job.gender}</p>
                                            <p>Expiry Date: ${new Date(job.ending_date).toDateString()}</p>
                                            <button>View More</button>
                                        `;
                
                                        jobList.appendChild(jobItem); // Append job item to the job list
                                    });
                                } else {
                                    jobList.innerHTML = '<p>No jobs available.</p>'; // Handle case where no jobs are found
                                }
                            } else {
                                console.error('Expected an array, but got:', jobs);
                            }
                        })
                        .catch(error => console.error('Error fetching job data:', error));
                </script>
            </div>
        <div class="view-more-container">
            <a href="total_jobs.html" class="view-more-button">View More Jobs</a>
        </div>
    </section>
    <br><br><br><br><br>
    <section class="jobs-feature">
        <h2>Feature Jobs</h2>
        <br><br>
        <div class="job-list-feature">
            <script>
                // Fetch job data from the API
                fetch('/company/add?id=0')
                    .then(response => {
                        if (!response.ok) {
                            throw new Error('Network response was not ok');
                        }
                        return response.json();
                    })
                    .then(response => {
                        console.log(response); // Inspect the data structure here
        
                        // Assuming response.data is the array
                        const jobs = response.data; // Update this if your data structure is different
                        console.log(jobs);
        
                        // Check if jobs is an array
                        if (Array.isArray(jobs)) {
                            // Get the first 8 jobs regardless of any criteria
                            const featureJobs = jobs.slice(0, 8);
        
                            const jobListFeature = document.querySelector('.job-list-feature'); // Move this outside the loop for efficiency
        
                            // Clear existing content
                            jobListFeature.innerHTML = '';
        
                            // Check if there are jobs available
                            if (featureJobs.length > 0) {
                                featureJobs.forEach(job => {
                                    const jobItemFeature = document.createElement('div');
                                    jobItemFeature.classList.add('job-item-feature');
        
                                    // Add an ID attribute for linking to job details
                                    jobItemFeature.innerHTML = `
                                        <img src="${job.filename || 'images/placeholder.png'}" alt="${job.title} logo" class="job-logo"> <!-- Add alt attribute for accessibility -->
                                        <h3>${job.title}</h3>
                                        <p><strong>Position:</strong> ${job.position}</p>
                                        <p><strong>Vacancies:</strong> ${job.no_of_vacancies}</p> <!-- Display the number of vacancies -->
                                        <p><strong>Salary:</strong> ${job.salary}</p>
                                        <p><strong>Gender:</strong> ${job.gender}</p>
                                        <p><strong>Expiry Date:</strong> ${new Date(job.ending_date).toDateString()}</p>
                                        <button onclick="location.href='job-details-page-job-seekers.html?id=${job.id}'">View More</button>
                                    `;
        
                                    jobListFeature.appendChild(jobItemFeature); // Append job item to the job list
                                });
                            } else {
                                jobListFeature.innerHTML = '<p>No feature jobs available.</p>'; // Handle case where no jobs are found
                            }
                        } else {
                            console.error('Expected an array, but got:', jobs);
                        }
                    })
                    .catch(error => console.error('Error fetching job data:', error));
            </script>
        </div>
        <div class="view-more-container">
            <a href="total_jobs.html" class="view-more-button">View More Jobs</a>
        </div>        
    </section>
    
    <br><br><br><br><br>
    <section class="articles">
        <h2>Important Articles</h2>
        <div class="article-item">
            <div class="article-content">
                <img src="images/article1.jpg" alt="Article 1">
                <h3>Department of Foreign Employment starts issuing re-entry permits - The Himalayan Times</h3>
                <p>July 3, 2024</p>
            </div>
            <div class="article-content">
                <img src="images/article2.jpg" alt="Article 2">
                <h3>बैदेशिक रोजगारमा जाने कामदारले जान्नै पर्ने कुराहरु</h3>
                <p>July 2, 2024</p>
            </div>
            <div class="article-content">
                <img src="images/article3.jpg" alt="Article 3">
                <h3>Nepalis continued to be duped to work abroad on visit visas</h3>
                <p>July 1, 2024</p>
            </div>
            <div class="article-content">
                <img src="images/article1.jpg" alt="Article 1">
                <h3>Department of Foreign Employment starts issuing re-entry permits - The Himalayan Times</h3>
                <p>July 3, 2024</p>
            </div>
            <div class="article-content">
                <img src="images/article2.jpg" alt="Article 2">
                <h3>बैदेशिक रोजगारमा जाने कामदारले जान्नै पर्ने कुराहरु</h3>
                <p>July 2, 2024</p>
            </div>
            <div class="article-content">
                <img src="images/article3.jpg" alt="Article 3">
                <h3>Nepalis continued to be duped to work abroad on visit visas</h3>
                <p>July 1, 2024</p>
            </div>
        </div>
        <div class="view-more-container">
            <a href="newsandupdate.html" class="view-more-button">View More Jobs</a>
        </div>
    </section>    
    <div id="footer-placeholder"></div>
    <script>
        // Load header and footer
        document.addEventListener("DOMContentLoaded", function() {
            const headerPlaceholder = document.getElementById('header-placeholder');
            const footerPlaceholder = document.getElementById('footer-placeholder');

            fetch('header.html')
                .then(response => response.text())
                .then(data => {
                    headerPlaceholder.innerHTML = data;
                    // Initialize toggle button after header is loaded
                    initToggleButton();
                });

            fetch('footer.html')
                .then(response => response.text())
                .then(data => {
                    footerPlaceholder.innerHTML = data;
                });

            // Function to initialize toggle button
            function initToggleButton() {
                const toggleButton = document.querySelector(".toggle-button");
                const navLinks = document.querySelector("nav.nav-links");

                if (toggleButton && navLinks) {
                    toggleButton.addEventListener("click", () => {
                        navLinks.classList.toggle("show");
                        console.log("Toggle button clicked. Nav links class is now:", navLinks.className);
                    });
                }
            }

            // Infinite scroll functionality
            const scrollWrapper = document.getElementById('manpower-cards');
            if (scrollWrapper) {
                const cards = Array.from(scrollWrapper.children);
                // Clone the cards to create an infinite scroll effect
                cards.forEach(card => {
                    const clone = card.cloneNode(true);
                    scrollWrapper.appendChild(clone);
                });
            }

            // Image card click functionality
            const imgCard = document.querySelectorAll(".img-card");
            imgCard.forEach(element => {
                element.addEventListener("click", function(e) {
                    imgCard.forEach(el => {
                        el.classList.remove("active");
                    });
                    element.classList.add("active");
                });
            });
        });
    </script>
</body>
</html>
